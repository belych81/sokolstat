{% extends 'base.html.twig' %}

{% block title %}
    {{ champ.russianAlias }} {{ app.request.get('year') }}
{% endblock %}

{% block seasons %}
    {% for season in seasons %}
        {% if app.request.get('year') == season.season.name %}
            <b>{{ season.season.name }}</b>
        {% else %}
        <a href="{{ path('sbornie', {'turnir': app.request.get('turnir'),
          'year': season.season.name}) }}" class="spiski">
            {{ season.season.name }}</a>
        {% endif %}
        {% endfor %}
{% endblock %}

{% block sidebar %}
 <td class="sidebarMenu">
     <ul>
        <li><a href="{{ path('sbornie',
                     {'turnir': 'worldcup', 'year': '2018'}) }}">ЧЕМПИОНАТЫ МИРА</a></li>
        <li><a href="{{ path('sbornie',
                     {'turnir': 'euro', 'year': '2016'}) }}">ЧЕМПИОНАТЫ ЕВРОПЫ</a></li>
        <li><a href="{{ path('sbornie',
                     {'turnir': 'confederationscup', 'year': '2017'}) }}">КУБОК КОНФЕДЕРАЦИЙ</a></li>
        <li><a href="{{ path('sbornieRus',
                     {'season': "now" | date("Y")}) }}">СБОРНАЯ РОССИИ</a></li>
     </ul>
 </td>
 {% endblock %}

{% block content %}
    <h1>{{ champ.russianAlias }} {{ app.request.get('year') }}</h1>
    {% if is_granted("ROLE_ADMIN") %}
        <p><a href="{{ path('sbornie_newMatch', {'season': app.request.get('year'),
          'turnir': app.request.get('turnir')}) }}">
                Добавить матч</a></p>
         {% endif %}
    <table>
        {% for raund in raunds %}
            <tr class="shipTableTitle">
                <td colspan="5" class="tableGoal">
                    {{ raund.name }}
                </td>
            </tr>
            {% for entity in raund.stadiamatches %}
                <tr class="{{ cycle(['odd', 'even'], loop.index) }}">
                <td class="scMatch">
                    <a href="{{ path('sbornie_show', {'turnir': app.request.get('turnir'),
                     'year': app.request.get('year'), 'id': entity.id})}}" class="spiski">
                        {{ entity.country.name }} - {{ entity.country2.name }}</a>
                </td>
                <td class="scScore">
                        {{ entity.data | date('d.m H:i') }}
                </td>
                <td class="scScore">
                        {{ entity.score }}
                </td>
                <td class="scCity scScore">
                        {{ entity.city.name }}
                </td>
                <td class="mundialGoal">
                    {{ entity.goal }}
                </td>
                </tr>
                {% endfor %}
            {% endfor %}
    </table>
    {% endblock %}
